specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: LSLMSRMarketMakerFactory
    network: katana
    source:
      address: "0xBeAF2d2f336429c6EEE9bd9a9317CcE1e3Ef4874"
      abi: LSLMSRMarketMakerFactory
      startBlock: 10344337 
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - LSLMSRMarketMakerCreation
        - MarketMaker
        - ConditionToMarketMaker
      abis:
        - name: LSLMSRMarketMakerFactory
          file: ./abis/LSLMSRMarketMakerFactory.json
      eventHandlers:
        - event: LSLMSRMarketMakerCreation(indexed
            address,address,address,address,bytes32[],uint64,uint256)
          handler: handleLSLMSRMarketMakerCreation
      file: ./src/lslmsr-market-maker-factory.ts
  - kind: ethereum
    name: ConditionalTokens
    network: katana
    source:
      address: "0x7fA0De623B0FE365C157aCA6caB38361E8757859"
      abi: ConditionalTokens
      startBlock: 10344338 
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - UserTransaction
      abis:
        - name: ConditionalTokens
          file: ./abis/ConditionalTokens.json
      eventHandlers:
        - event: PayoutRedemption(indexed address,indexed address,indexed bytes32,bytes32,uint256[],uint256)
          handler: payoutRedemption
        - event: ConditionResolution(indexed bytes32,indexed address,indexed bytes32,uint256,uint256[])
          handler: handleConditionResolution
      file: ./src/conditional-tokens.ts
templates:
  - kind: ethereum
    name: LSLMSRMarketMaker
    network: katana
    source:
      abi: LSLMSRMarketMaker
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - LSLMSRMarketMakerAMMCreated
        - AMMOutcomeTokenTrade
        - UserTransaction
        - UserPosition
      abis:
        - name: LSLMSRMarketMaker
          file: ./abis/LSLMSRMarketMaker.json
      eventHandlers:
        - event: AMMCreated(uint256)
          handler: handleAMMCreated
        - event: AMMOutcomeTokenTrade(indexed address,int256[],int256,uint256)
          handler: handleAMMOutcomeTokenTrade
      file: ./src/lslmsr-market-maker.ts
